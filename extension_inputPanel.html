<html>
	<head>
		<style>
			.input-container {
				position: relative;
				display: inline-block; /* Keep icons inline */
				margin-right: 20px; /* Add some space between input and icon */
			}
	
			.info-icon {
				cursor: pointer;
				border: 1px solid white;
				border-radius: 50%; /* Rounded border */
				padding: 2px 5px;
			}
	
			.info-icon:hover {
				color: yellow; /* Change font color on hover */
			}
	
			.info-text {
				display: none;
				position: absolute;
				top: 0;
				width: 300px;
				color: black;
				left: calc(100% + 5px); /* Position to the right of the icon */
				padding: 5px;
				background-color: #f0f0f0;
				border: 1px solid #ccc;
			}
	
			.input-container:hover .info-text {
				display: block; /* Show text block on hover */
			}
		</style>
	</head>
            <body>
                <h1>Enter Your Inputs</h1>
                <form id="inputForm">
					<label for="flitsr_arg">Flitsr arguments :    </label>
					<div class="input-container">
						<input type="text" id="flitsr_arg" name="flitsr_arg">
						<span class="info-icon" onmouseover="showInfo('name-info')" onmouseout="hideInfo('name-info')">i</span>
            			<div class="info-text">
							Enter your preferred usage from the output guide as given. Ignore "flitsr input_file". Use any of the arguments from the rest.
						</div>
					</div>
					<br><br>
					<label for="file">Select Input File:</label>
					<div class="input-container">
						<input type="file" id="file" name="file">
						<span class="info-icon" onmouseover="showInfo('name-info')" onmouseout="hideInfo('name-info')">i</span>
            			<div class="info-text">
							Upload the input file if you want to see the localisation output for a particular fault at particular input file.
						</div>
					</div>
					<br><br>
					<label for="folder">Select Input Folder:</label>
					<div class="input-container">
						<input type="file" id="folder" name="folder" webkitdirectory directory>
						<span class="info-icon" onmouseover="showInfo('name-info')" onmouseout="hideInfo('name-info')">i</span>
            			<div class="info-text">
							Upload the input folder of n-th fault if you want to see overall results for all possible flitsr arguments. It also generates the percent_at_n and the results file.
						</div>
					</div>
					<br><br>
					<input type="submit" value="Submit">
					<input type="hidden" id="formData" name="formData">
				</form>
                <div id="output"></div>

                <script>

					function showInfo(id) {
						const infoText = document.getElementById(id);
						infoText.style.display = 'block';
						}

					function hideInfo(id) {
						const infoText = document.getElementById(id);
						infoText.style.display = 'none';
						}
					const vscode = acquireVsCodeApi();

                    const form = document.getElementById('inputForm');
                    const output = document.getElementById('output');

                    
					form.addEventListener('submit', (event) => {
						event.preventDefault();
						const flitsr_arg = document.getElementById('flitsr_arg').value;
						const file = document.getElementById('file').files[0];
						const folder = document.getElementById('folder').files[0].path;
						const fileName = file.name;
						const filePath = file.path.split('/').slice(0, -1).join('/');
						const folderPath = folder.split('/').slice(0, -1).join('/');
						const formData = JSON.stringify({ flitsr_arg, fileName, filePath,  folderPath });
						document.getElementById('formData').value = formData;
						vscode.postMessage({
							command: 'submitForm',
							data: formData
						});
					});


                </script>
            </body>
            </html>